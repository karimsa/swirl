{"version":3,"sources":["swirl.js"],"names":["e","t","n","r","s","o","u","a","require","i","Error","f","exports","call","length",1,"module","_interopRequireDefault","obj","__esModule","default","_inherits","subClass","superClass","TypeError","prototype","Object","create","constructor","value","enumerable","writable","configurable","__proto__","_classCallCheck","instance","Constructor","_get","_x","_x2","_x3","_again","object","property","receiver","desc","parent","getter","undefined","Function","getOwnPropertyDescriptor","get","getPrototypeOf","_createClass","defineProperties","target","props","descriptor","defineProperty","key","protoProps","staticProps","_dot","_dot2","_debounce","_debounce2","_events","vendor","Array","slice","window","getComputedStyle","document","documentElement","join","match","styles","OLink","pseudoStates","pseudoElements","createMethod","withVendor","indexOf","split","map","letter","toUpperCase","toLowerCase","_len","arguments","values","_key","options","reverse","this","update","ptn","templateSettings","interpolate","evaluate","Style","tag","createElement","setAttribute","head","appendChild","rules","lastCompiled","callbacks","template","tpl","innerHTML","bind","rule","sheet","id","data","events","addListener","replace","removeListener","Rule","Date","EventEmitter","changed","selectors","selectorUpdated","rebuild","hasOwnProperty","render","compile","substr","state","MyRule","_Rule","attach","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","selector","apply","err","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","emit","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","push","filter","word","skip","body","style","debounce","dot",2,"now","func","wait","immediate","later","last","timestamp","timeout","setTimeout","result","context","args","callNow","date-now",3,"getTime",4,"resolveDefs","c","block","def","toString","define","m","code","assign","substring","defineParams","param","v","arg","text","use","useParams","d","rw","__exp","RegExp","unescape","_globals","doT","version","encode","conditional","iterate","varname","strip","append","selfcontained","doNotSkipEncoded","encodeHTMLSource","encodeHTMLRules","&","<",">","\"","'","/","matchHTML","eval","amd","startend","start","end","startencode","tmpl","needhtmlencode","indv","cse","sid","str","elsecase","vname","iname","_encodeHTML","console","log",5,"InstallDots","__path","path","__destination","destination","__global","global","__rendermodule","rendermodule","__settings","copy","__includes","addexports","ret","to","readdata","fs","readFileSync","process","compileAll","compileToFile","fn","modulename","lastIndexOf","defs","settings","compileoptions","defaultcompiled","compiled","writeFileSync","compilePath","k","l","name","defFolder","sources","readdirSync","test","./doT",6,7,"_maxListeners","isFunction","isNumber","isObject","isUndefined","defaultMaxListeners","setMaxListeners","isNaN","type","er","handler","len","listeners","error","listener","newListener","warned","trace","on","once","g","fired","list","position","splice","removeAllListeners","listenerCount","emitter"],"mappings":"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","file":"swirl.min.js","sourcesContent":["/**\n * swirl.js - Swirl\n * Licensed under GPL-3.0.\n * Copyright (C) 2015 Karim Alibhai.\n **/\n'use strict';\n\nimport dot from 'dot';\nimport debounce from 'debounce';\nimport { EventEmitter } from 'events';\n\nvar vendor = (Array.prototype.slice.call(window.getComputedStyle(document.documentElement, '')).join('').match(/-(moz|webkit|ms)-/) || (styles.OLink === '' && ['', 'o']))[1],\n    pseudoStates = ['active', 'checked', 'disabled', 'empty', 'enabled', 'first-child', 'first-of-type', 'focus', 'hover', 'in-range', 'invalid', 'last-child', 'last-of-type', 'link', 'only-of-type', 'only-child', 'optional', 'out-of-range', 'read-only', 'read-write', 'required', 'root', 'target', 'valid', 'visited'],\n    pseudoElements = ['after', 'before', 'first-letter', 'first-line', 'selection'],\n    createMethod = function(property, withVendor) {\n        return function(...values) {\n            // convert from camel case back to proper property name\n            if (property.indexOf('-') === -1) {\n                property = property.split('').map((letter) => letter === letter.toUpperCase() ? '-' + letter.toLowerCase() : letter).join('');\n            }\n\n            if (withVendor) {\n                // fallbacks are not supported for properties\n                // that have vendor prefixes\n                var options = values[1] || {};\n\n                // update the value, prefer vendor-specified value\n                values = options[vendor] || values;\n\n                // update the property name\n                property = '-' + vendor + '-' + property;\n            } else {\n                // we want to apply these in reverse order\n                // because we want the fallbacks to preceed\n                // the actual value\n                values = values.reverse();\n            }\n\n            // request value update\n            return this.update(property, values);\n        };\n    };\n\n// make dot more handlebars flavoured\nvar ptn = dot.templateSettings.interpolate;\ndot.templateSettings.interpolate = dot.templateSettings.evaluate;\ndot.templateSettings.evaluate = ptn;\n\nclass Style {\n    constructor() {\n        this.tag = document.createElement('style'); // create a tag to use\n        this.tag.setAttribute('type', 'text/css');\n        document.head.appendChild(this.tag);\n\n        this.rules = {}; // a map of attached rules\n        this.lastCompiled = {}; // a map of last compiled rules\n        this.callbacks = {}; // a map of attached callbacks\n        this.template = '';\n        this.tpl = dot.template('');\n\n        // a debounced updater\n        this.update = debounce(function() {\n            this.tag.innerHTML = this.tpl(this.lastCompiled);\n        }.bind(this), 16);\n    }\n\n    attach(rule) {\n        rule.sheet = this;\n        this.rules[rule.id] = rule;\n        this.lastCompiled[rule.id] = '';\n        this.template += '{{it[\"' + rule.id + '\"]}}';\n        this.tpl = dot.template(this.template);\n        this.callbacks[rule.id] = function(data) {\n            this.lastCompiled[rule.id] = data;\n            this.update();\n        }.bind(this);\n        rule.events.addListener('rendered', this.callbacks[rule.id]);\n\n        this.update();\n    }\n\n    dettach(rule) {\n        this.template = this.template.replace('{{' + rule.id + '}}', '');\n        rule.events.removeListener('rendered', this.callbacks[rule.id]);\n\n        delete this.rules[rule.id];\n        delete this.lastCompiled[rule.id];\n        delete this.callbacks[rule.id];\n\n        this.update();\n    }\n}\n\nclass Rule {\n    constructor() {\n        this.id = +new Date();\n        this.events = new EventEmitter();\n\n        this.rules = '{ }'; // handle a template of rules\n        this.map = {}; // create a map of styles\n        this.changed = {}; // create a list of updated properties\n        this.selectors = []; // manage a list of selectors to compile for\n        this.selectorUpdated = false; // manage selector-recompiling\n        this.sheet = null; // the target sheet this rule is attached to\n\n        this.rebuild = debounce(function() {\n            var tpl = dot.template(this.rules);\n            this.tpl = function(map) {\n                var data = {},\n                    i;\n                for (i in map) {\n                    if (map.hasOwnProperty(i)) {\n                        data[this.key(i)] = this.styles(i, map[i]);\n                    }\n                }\n                return tpl(data);\n            }.bind(this);\n            this.render(this.map);\n        }.bind(this), 16);\n\n        this.compile = debounce(function() {\n            // we don't want to bother compiling if\n            // there are no selectors to be applying this\n            // style to\n            if (this.selectors.length > 0) {\n                var changed = this.changed,\n                    rebuild = false;\n                this.changed = {};\n\n                // if first compile, create an empty ruleset.\n                // otherwise update selectors of existing ruleset.\n                if (this.rules !== '{ }') {\n                    if (this.selectorUpdated) {\n                        this.rules = this.selectors.join(',') + this.rules.substr(this.rules.indexOf('{'));\n                        this.selectorUpdated = false;\n                        rebuild = true;\n                    }\n                } else {\n                    this.rules = this.selectors.join(',') + '{ }';\n                    rebuild = true;\n                }\n\n                // update every property in the stylesheet\n                for (var property in changed) {\n                    if (changed.hasOwnProperty(property)) {\n                        if (this.map.hasOwnProperty(property)) {\n                            this.map[property] = changed[property];\n                        } else {\n                            this.map[property] = changed[property];\n                            this.rules = this.rules.substr(0, this.rules.length - 1) + '{{it.' + this.key(property) + '}};}';\n                            rebuild = true;\n                        }\n                    }\n                }\n\n                if (rebuild) this.rebuild();\n                else this.render(this.map);\n            }\n        }.bind(this), 16);\n    }\n\n    // define a property as having been updated, then compile\n    update(property, value) {\n        this.changed[property] = value;\n        this.compile();\n\n        return this;\n    }\n\n    // add properties for a specific state\n    on(state) {\n        class MyRule extends Rule {\n            constructor () {\n                super();\n            }\n        }\n        \n        MyRule.prototype = this.constructor.prototype;\n        var rule = new MyRule();\n        \n        // attach to my sheet\n        if (this.sheet) this.sheet.attach(rule);\n\n        // for pseudo-classes, we just add all selectors\n        // with the class appended\n        if (pseudoStates.indexOf(state) !== -1) {\n            for (var selector of this.selectors) {\n                rule.apply(selector + ':' + state);\n            }\n        } else if (pseudoElements.indexOf(state) !== -1) {\n            for (var selector of this.selectors) {\n                rule.apply(selector + '::' + state);\n            }\n        } else {\n            rule.render = function () {\n                this.events.emit('rendered', '@media (' + state + ') {' + this.tpl(this.map) + '}')\n            };\n            for (var selector of this.selectors) rule.apply(selector);\n        }\n\n        // return the next style\n        return rule;\n    }\n\n    // add a new compilation target then compile\n    apply(selector) {\n        this.selectors.push(selector);\n        this.selectorUpdated = true;\n        this.compile();\n    }\n\n    // get styles from value list\n    styles(property, values) {\n        values = values instanceof Array ? values : [values];\n        return values.map((value) => property + ':' + value).join(';');\n    }\n\n    // converts a css property to camel case\n    key(property) {\n        var key = property.split('-').filter((a) => a).map((word) => word[0].toUpperCase() + word.substr(1)).join('');\n        return key[0].toLowerCase() + key.substr(1);\n    }\n\n    // render the template and inject it into the stylesheet\n    render(data) {\n        this.events.emit('rendered', this.tpl(this.map));\n    }\n}\n\n// add methods for all supported CSS properties\nvar skip = ['x', 'y', 'tag'];\nfor (var property in document.body.style) {\n    if (document.body.style.hasOwnProperty(property) && skip.indexOf(property) === -1) {\n        var withVendor = property.length > vendor.length && property.substr(0, vendor.length) === vendor;\n\n        // we want the name without the vendor prefix\n        if (withVendor) {\n            property = property.substr(vendor.length);\n            property = property[0].toLowerCase() + property.substr(1);\n        }\n\n        // create the method\n        Rule.prototype[property] = createMethod(property, withVendor);\n    }\n}\n\n// expose\nwindow.Style = Style;\nwindow.Rule = Rule;"],"sourceRoot":"/source/"}